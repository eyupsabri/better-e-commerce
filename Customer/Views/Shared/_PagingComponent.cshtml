@model PagingModel

<nav aria-label="Page navigation">
    <ul class="pagination justify-content-center mb-3">

        @if (Model.CurrentPage != 0)
        {
            <li class="page-item">

                <button class="page-link myPagination" data-pagenumber="@(Model.CurrentPage - 1)" aria-label="Previous">
                    <span aria-hidden="true">&raquo;</span>
                    <span class="sr-only">Previous</span>
                </button>

            </li>
        }
        else
        {
            <li class="page-item disabled">         
                <button class="page-link" href="#" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                    <span class="sr-only">Previous</span>
                </button>                   
            </li>
        }

        <li class="page-item">
            <button class="page-link myPagination" data-pagenumber="0">
                First Page
            </button>
        </li>

        @if (Model.CurrentPage > 2)
        {
            for (int k = Model.CurrentPage - 2; k < Model.CurrentPage + 3; k++)
            {

                if (Model.TotalPages > k)
                {
                    if (k == Model.CurrentPage)
                    {
                        <li class="page-item active">
                            <button class="page-link myPagination" aria-current="page" data-pagenumber="@(k)">
                                @(k + 1)
                            </button>
                        </li>
                    }
                    else
                    {
                        <li class="page-item">
                            <button class="page-link myPagination" data-pagenumber="@(k)">
                                @(k + 1)
                            </button>
                        </li>
                    }

                }
                else if (Model.TotalPages <= k)
                {
                    <li class="page-item disabled">
                        <button class="page-link" data-pagenumber="@(k)">
                            @(k + 1)
                        </button>
                    </li>
                }
            }
        }
        else
        {
            for (int k = 0; k < 5; k++)
            {
                if (Model.TotalPages > k)
                {
                    if (k == Model.CurrentPage)
                    {
                        <li class="page-item active">
                            <button class="page-link myPagination" aria-current="page" data-pagenumber="@(k)">
                                @(k + 1)
                            </button>
                        </li>
                    }
                    else
                    {
                        <li class="page-item">
                            <button class="page-link myPagination" data-pagenumber="@(k)">
                                @(k + 1)
                            </button>
                        </li>
                    }

                }
                else if (Model.TotalPages <= k)
                {
                    <li class="page-item disabled">
                        <button class="page-link" data-pagenumber="@(k)">
                            @(k + 1)
                        </button>
                    </li>
                }

            }
        }

        <li class="page-item">
            <button class="page-link myPagination" data-pagenumber="@(Model.TotalPages - 1)">
                Last Page
            </button>
        </li>

        @if (Model.TotalPages > Model.CurrentPage + 1)
        {
            <li class="page-item">
                <button class="page-link myPagination" data-pagenumber="@(Model.CurrentPage + 1)" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                    <span class="sr-only">Next</span>
                </button>
            </li>
        }
        else
        {
            <li class="page-item disabled">
                <button class="page-link">
                    Next
                </button>
            </li>
        }

    </ul>
</nav>


